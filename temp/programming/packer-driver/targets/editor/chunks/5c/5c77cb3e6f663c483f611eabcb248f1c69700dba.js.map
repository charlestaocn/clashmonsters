{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/Unit/Enemy/EnemySpawner/IndividualEnemySpawner.ts"],"names":["IndividualEnemySpawner","randomRange","GameTimer","randomPositiveOrNegative","DelayedEnemySpawner","constructor","enemySpawner","settings","common","startDelay","stopDelay","spawnTimer","enemyId","cooldown","delayedGameTick","deltaTime","gameTick","tryFinishPeriod","posX","posY","spawnNewEnemy"],"mappings":";;;sJAOaA,sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPJC,MAAAA,W,OAAAA,W;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,wB,iBAAAA,wB;;AAEAC,MAAAA,mB,iBAAAA,mB;;;;;;;;;wCAGIJ,sB,GAAN,MAAMA,sBAAN;AAAA;AAAA,sDAAyD;AAIrDK,QAAAA,WAAW,CAASC,YAAT,EAAqCC,QAArC,EAA+E;AAC7F,gBAAMA,QAAQ,CAACC,MAAT,CAAgBC,UAAtB,EAAkCF,QAAQ,CAACC,MAAT,CAAgBE,SAAlD;AAD6F,eAHzFC,UAGyF;AAAA,eAFzFC,OAEyF;AAAA,eAAtEN,YAAsE,GAAtEA,YAAsE;AAG7F,eAAKK,UAAL,GAAkB;AAAA;AAAA,sCAAcJ,QAAQ,CAACC,MAAT,CAAgBK,QAA9B,CAAlB;AACA,eAAKD,OAAL,GAAeL,QAAQ,CAACC,MAAT,CAAgBI,OAA/B;AACH;;AAEME,QAAAA,eAAe,CAACC,SAAD,EAA0B;AAC5C,eAAKJ,UAAL,CAAgBK,QAAhB,CAAyBD,SAAzB;;AACA,cAAI,KAAKJ,UAAL,CAAgBM,eAAhB,EAAJ,EAAuC;AACnC,kBAAMC,IAAY,GAAGjB,WAAW,CAAC,GAAD,EAAM,GAAN,CAAX,GAAwB;AAAA;AAAA,uEAA7C;AACA,kBAAMkB,IAAY,GAAGlB,WAAW,CAAC,GAAD,EAAM,GAAN,CAAX,GAAwB;AAAA;AAAA,uEAA7C;AACA,iBAAKK,YAAL,CAAkBc,aAAlB,CAAgCF,IAAhC,EAAsCC,IAAtC,EAA4C,KAAKP,OAAjD;AACH;AACJ;;AAlB2D,O","sourcesContent":["import { randomRange } from \"cc\";\r\nimport { GameTimer } from \"../../../../Services/GameTimer\";\r\nimport { randomPositiveOrNegative } from \"../../../../Services/Utils/MathUtils\";\r\nimport { IndividualEnemySpawnerSettings } from \"../../../Data/GameSettings\";\r\nimport { DelayedEnemySpawner } from \"./DelayedEnemySpawner\";\r\nimport { EnemySpawner } from \"./EnemySpawner\";\r\n\r\nexport class IndividualEnemySpawner extends DelayedEnemySpawner {\r\n    private spawnTimer: GameTimer;\r\n    private enemyId: string;\r\n\r\n    public constructor(private enemySpawner: EnemySpawner, settings: IndividualEnemySpawnerSettings) {\r\n        super(settings.common.startDelay, settings.common.stopDelay);\r\n\r\n        this.spawnTimer = new GameTimer(settings.common.cooldown);\r\n        this.enemyId = settings.common.enemyId;\r\n    }\r\n\r\n    public delayedGameTick(deltaTime: number): void {\r\n        this.spawnTimer.gameTick(deltaTime);\r\n        if (this.spawnTimer.tryFinishPeriod()) {\r\n            const posX: number = randomRange(300, 600) * randomPositiveOrNegative();\r\n            const posY: number = randomRange(300, 600) * randomPositiveOrNegative();\r\n            this.enemySpawner.spawnNewEnemy(posX, posY, this.enemyId);\r\n        }\r\n    }\r\n}\r\n"]}