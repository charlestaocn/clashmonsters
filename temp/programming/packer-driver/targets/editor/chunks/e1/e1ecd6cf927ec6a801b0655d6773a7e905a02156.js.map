{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/Items/PickupEffect/PickupEffectManager.ts"],"names":["_decorator","Component","Prefab","ObjectPool","delay","ccclass","property","PickupEffectManager","effectPool","init","pickupEffect","node","showEffect","position","effect","borrow","setWorldPosition","active","return"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;;AAC7BC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,K,iBAAAA,K;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;qCAGjBO,mB,WADZF,OAAO,CAAC,qBAAD,C,UAEHC,QAAQ,CAACJ,MAAD,C,2BAFb,MACaK,mBADb,SACyCN,SADzC,CACmD;AAAA;AAAA;;AAAA;;AAAA,eAGvCO,UAHuC;AAAA;;AAKxCC,QAAAA,IAAI,GAAS;AAChB,eAAKD,UAAL,GAAkB;AAAA;AAAA,wCAAe,KAAKE,YAApB,EAAkC,KAAKC,IAAvC,EAA6C,CAA7C,EAAgD,cAAhD,CAAlB;AACH;;AAEsB,cAAVC,UAAU,CAACC,QAAD,EAAgC;AAAA;;AACnD,gBAAMC,MAAM,GAAG,KAAKN,UAAL,CAAgBO,MAAhB,EAAf;AACAD,UAAAA,MAAM,CAACH,IAAP,CAAYK,gBAAZ,CAA6BH,QAA7B;AACAC,UAAAA,MAAM,CAACH,IAAP,CAAYM,MAAZ,GAAqB,IAArB;AAEA,gBAAM;AAAA;AAAA,8BAAM,GAAN,CAAN;AAEA,mCAAKT,UAAL,sCAAiBU,MAAjB,CAAwBJ,MAAxB;AACH;;AAjB8C,O","sourcesContent":["import { _decorator, Component, Node, Prefab, Vec3 } from \"cc\";\r\nimport { ObjectPool } from \"../../../Services/ObjectPool\";\r\nimport { delay } from \"../../../Services/Utils/AsyncUtils\";\r\nimport { PickupEffect } from \"./PickupEffect\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"PickupEffectManager\")\r\nexport class PickupEffectManager extends Component {\r\n    @property(Prefab) private pickupEffect: Prefab;\r\n\r\n    private effectPool: ObjectPool<PickupEffect>;\r\n\r\n    public init(): void {\r\n        this.effectPool = new ObjectPool(this.pickupEffect, this.node, 5, \"PickupEffect\");\r\n    }\r\n\r\n    public async showEffect(position: Vec3): Promise<void> {\r\n        const effect = this.effectPool.borrow();\r\n        effect.node.setWorldPosition(position);\r\n        effect.node.active = true;\r\n\r\n        await delay(450);\r\n\r\n        this.effectPool?.return(effect);\r\n    }\r\n}\r\n"]}