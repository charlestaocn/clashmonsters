{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/Unit/Player/Magnet.ts"],"names":["_decorator","Component","CircleCollider2D","GameTimer","ccclass","property","Magnet","timer","duration","Collider","collider","init","node","active","activate","gameTick","deltaTime","tryFinishPeriod"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA6BC,MAAAA,gB,OAAAA,gB;;AACzCC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;wBAGjBM,M,WADZF,OAAO,CAAC,QAAD,C,UAEHC,QAAQ,CAACH,gBAAD,C,2BAFb,MACaI,MADb,SAC4BL,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA,eAG1BM,KAH0B;AAAA,eAI1BC,QAJ0B;AAAA;;AAMf,YAARC,QAAQ,GAAe;AAC9B,iBAAO,KAAKC,QAAZ;AACH;;AACMC,QAAAA,IAAI,CAACH,QAAD,EAAyB;AAChC,eAAKA,QAAL,GAAgBA,QAAhB;AACA,eAAKI,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;;AAEMC,QAAAA,QAAQ,GAAS;AACpB,eAAKP,KAAL,GAAa;AAAA;AAAA,sCAAc,KAAKC,QAAnB,CAAb;AACA,eAAKI,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACH;;AAEME,QAAAA,QAAQ,CAACC,SAAD,EAA0B;AACrC,cAAI,CAAC,KAAKJ,IAAL,CAAUC,MAAf,EAAuB;AAEvB,eAAKN,KAAL,CAAWQ,QAAX,CAAoBC,SAApB;;AACA,cAAI,KAAKT,KAAL,CAAWU,eAAX,EAAJ,EAAkC;AAC9B,iBAAKL,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;AACJ;;AA1BiC,O","sourcesContent":["import { _decorator, Component, Node, Collider2D, CircleCollider2D } from \"cc\";\r\nimport { GameTimer } from \"../../../Services/GameTimer\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"Magnet\")\r\nexport class Magnet extends Component {\r\n    @property(CircleCollider2D) private collider: CircleCollider2D;\r\n\r\n    private timer: GameTimer;\r\n    private duration: number;\r\n\r\n    public get Collider(): Collider2D {\r\n        return this.collider;\r\n    }\r\n    public init(duration: number): void {\r\n        this.duration = duration;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public activate(): void {\r\n        this.timer = new GameTimer(this.duration);\r\n        this.node.active = true;\r\n    }\r\n\r\n    public gameTick(deltaTime: number): void {\r\n        if (!this.node.active) return;\r\n\r\n        this.timer.gameTick(deltaTime);\r\n        if (this.timer.tryFinishPeriod()) {\r\n            this.node.active = false;\r\n        }\r\n    }\r\n}\r\n"]}