{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/ModalWIndows/ChestModalWindow.ts"],"names":["randomRangeInt","_decorator","ModalWindow","UIButton","LevelUpSkill","ccclass","property","ChestModalWindow","setup","params","randomIndex","availableUpgrades","length","skillToUpgrade","levelUpSkill","init","translationData","okButton","InteractedEvent","on","dismiss"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,c,OAAAA,c;AAAgBC,MAAAA,U,OAAAA,U;;AAChBC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AAEAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;kCAGjBM,gB,WADZF,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ;AAAA;AAAA,uC,UACRA,QAAQ;AAAA;AAAA,+B,2BAHb,MACaC,gBADb;AAAA;AAAA,sCACyF;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAI3EC,QAAAA,KAAK,CAACC,MAAD,EAAyC;AACpD,cAAMC,WAAW,GAAGV,cAAc,CAAC,CAAD,EAAIS,MAAM,CAACE,iBAAP,CAAyBC,MAAzB,GAAkC,CAAtC,CAAlC;AACA,cAAMC,cAAc,GAAGJ,MAAM,CAACE,iBAAP,CAAyBD,WAAzB,CAAvB;AACA,eAAKI,YAAL,CAAkBC,IAAlB,CAAuBF,cAAvB,EAAuCJ,MAAM,CAACO,eAA9C;AAEA,eAAKC,QAAL,CAAcC,eAAd,CAA8BC,EAA9B,CAAiC,MAAM,KAAKC,OAAL,CAAaP,cAAb,CAAvC,EAAqE,IAArE;AACH;;AAVoF,O","sourcesContent":["import { randomRangeInt, _decorator } from \"cc\";\r\nimport { ModalWindow } from \"../../Services/ModalWindowSystem/ModalWindow\";\r\nimport { UIButton } from \"../../Services/UI/Button/UIButton\";\r\nimport { LevelUpModalWindowParams } from \"../UI/LevelUpWindow/LevelUpModalWindow\";\r\nimport { LevelUpSkill } from \"../UI/LevelUpWindow/LevelUpSkill\";\r\nimport { UpgradeType } from \"../Upgrades/UpgradeType\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"ChestModalWindow\")\r\nexport class ChestModalWindow extends ModalWindow<LevelUpModalWindowParams, UpgradeType> {\r\n    @property(LevelUpSkill) private levelUpSkill: LevelUpSkill;\r\n    @property(UIButton) private okButton: UIButton;\r\n\r\n    protected setup(params: LevelUpModalWindowParams): void {\r\n        const randomIndex = randomRangeInt(0, params.availableUpgrades.length - 1);\r\n        const skillToUpgrade = params.availableUpgrades[randomIndex];\r\n        this.levelUpSkill.init(skillToUpgrade, params.translationData);\r\n\r\n        this.okButton.InteractedEvent.on(() => this.dismiss(skillToUpgrade), this);\r\n    }\r\n}\r\n"]}