{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/UI/LevelUpWindow/LevelUpSkill.ts"],"names":["Component","Label","NodeEventType","Sprite","_decorator","Animation","AppRoot","Signal","ccclass","property","LevelUpSkill","chooseSkillEvent","skillType","init","translationData","skillTitle","string","skillIcon","spriteFrame","Instance","GameAssets","UpgradeIcons","getIcon","node","on","TOUCH_START","chooseSkill","ChooseSkillEvent","anni","getComponent","play","trigger"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAiBA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,a,OAAAA,a;AAAeC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AAC7DC,MAAAA,O,iBAAAA,O;;AAEAC,MAAAA,M,iBAAAA,M;;;;;;;;;OAIH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;8BAGjBM,Y,WADZF,OAAO,CAAC,cAAD,C,UAEHC,QAAQ,CAACR,KAAD,C,UACRQ,QAAQ,CAACR,KAAD,C,UACRQ,QAAQ,CAACN,MAAD,C,2BAJb,MACaO,YADb,SACkCV,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAIhCW,gBAJgC,GAIQ;AAAA;AAAA,iCAJR;AAAA,eAKhCC,SALgC;AAAA;;AAOjCC,QAAAA,IAAI,CAACD,SAAD,EAAyBE,eAAzB,EAAiE;AACxE,eAAKF,SAAL,GAAiBA,SAAjB;AACA,eAAKG,UAAL,CAAgBC,MAAhB,QAA4BF,eAAe,CAAIF,SAAJ,YAA3C;AACA,eAAKK,SAAL,CAAeC,WAAf,GAA6B;AAAA;AAAA,kCAAQC,QAAR,CAAiBC,UAAjB,CAA4BC,YAA5B,CAAyCC,OAAzC,CAAiDV,SAAjD,CAA7B;AACA,eAAKW,IAAL,CAAUC,EAAV,CAAatB,aAAa,CAACuB,WAA3B,EAAwC,KAAKC,WAA7C,EAA0D,IAA1D;AACH;;AAE0B,YAAhBC,gBAAgB,GAAyB;AAChD,iBAAO,KAAKhB,gBAAZ;AACH;;AAEOe,QAAAA,WAAW,GAAS;AACxB,cAAME,IAAwB,GAAG,KAAKC,YAAL,CAAkBxB,SAAlB,CAAjC;;AACA,cAAIuB,IAAJ,EAAU;AACNA,YAAAA,IAAI,CAACE,IAAL,CAAU,SAAV;AACH;;AACD,eAAKnB,gBAAL,CAAsBoB,OAAtB,CAA8B,KAAKnB,SAAnC;AACH;;AAxBuC,O","sourcesContent":["import { approx, Component, Label, NodeEventType, Sprite, _decorator, Animation, AnimationComponent, AnimationClip } from \"cc\";\r\nimport { AppRoot } from \"../../../AppRoot/AppRoot\";\r\nimport { ISignal } from \"../../../Services/EventSystem/ISignal\";\r\nimport { Signal } from \"../../../Services/EventSystem/Signal\";\r\nimport { TranslationData } from \"../../Data/TranslationData\";\r\nimport { UpgradeType } from \"../../Upgrades/UpgradeType\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"LevelUpSkill\")\r\nexport class LevelUpSkill extends Component {\r\n    @property(Label) private skillTitle: Label;\r\n    @property(Label) private skillDescription: Label;\r\n    @property(Sprite) private skillIcon: Sprite;\r\n    private chooseSkillEvent: Signal<UpgradeType> = new Signal<UpgradeType>();\r\n    private skillType: UpgradeType;\r\n\r\n    public init(skillType: UpgradeType, translationData: TranslationData): void {\r\n        this.skillType = skillType;\r\n        this.skillTitle.string = `${translationData[`${skillType}_TITLE`]}`;\r\n        this.skillIcon.spriteFrame = AppRoot.Instance.GameAssets.UpgradeIcons.getIcon(skillType);\r\n        this.node.on(NodeEventType.TOUCH_START, this.chooseSkill, this);\r\n    }\r\n\r\n    public get ChooseSkillEvent(): ISignal<UpgradeType> {\r\n        return this.chooseSkillEvent;\r\n    }\r\n\r\n    private chooseSkill(): void {\r\n        const anni: AnimationComponent = this.getComponent(Animation);\r\n        if (anni) {\r\n            anni.play(\"choosen\")\r\n        }\r\n        this.chooseSkillEvent.trigger(this.skillType);\r\n    }\r\n}\r\n"]}