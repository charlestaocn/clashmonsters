{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/Items/ItemSpawner.ts"],"names":["Component","Prefab","_decorator","ObjectPool","ccclass","property","ItemSpawner","itemPool","init","itemPrefab","node","spawn","position","item","borrow","setup","PickupEvent","on","return","off"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAcC,MAAAA,U,OAAAA,U;;AACzBC,MAAAA,U,iBAAAA,U;;;;;;;;;OAGH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;6BAGjBI,W,WADZF,OAAO,CAAC,aAAD,C,UAEHC,QAAQ,CAACJ,MAAD,C,2BAFb,MACaK,WADb,SACiCN,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA,eAG/BO,QAH+B;AAAA;;AAIhCC,QAAAA,IAAI,GAAS;AAChB,eAAKD,QAAL,GAAgB;AAAA;AAAA,wCAAqB,KAAKE,UAA1B,EAAsC,KAAKC,IAA3C,EAAiD,CAAjD,EAAoD,MAApD,CAAhB;AACH;;AAEMC,QAAAA,KAAK,CAACC,QAAD,EAAuB;AAC/B,cAAMC,IAAU,GAAG,KAAKN,QAAL,CAAcO,MAAd,EAAnB;AACAD,UAAAA,IAAI,CAACE,KAAL,CAAWH,QAAX;AACAC,UAAAA,IAAI,CAACG,WAAL,CAAiBC,EAAjB,CAAoB,KAAKC,MAAzB,EAAiC,IAAjC;AACH;;AAEOA,QAAAA,MAAM,CAACL,IAAD,EAAmB;AAC7BA,UAAAA,IAAI,CAACG,WAAL,CAAiBG,GAAjB,CAAqB,KAAKD,MAA1B;AACA,eAAKX,QAAL,CAAcW,MAAd,CAAqBL,IAArB;AACH;;AAjBsC,O","sourcesContent":["import { Component, Prefab, Vec3, _decorator } from \"cc\";\r\nimport { ObjectPool } from \"../../Services/ObjectPool\";\r\nimport { Item } from \"./Item\";\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"ItemSpawner\")\r\nexport class ItemSpawner extends Component {\r\n    @property(Prefab) public itemPrefab: Prefab;\r\n\r\n    private itemPool: ObjectPool<Item>;\r\n    public init(): void {\r\n        this.itemPool = new ObjectPool<Item>(this.itemPrefab, this.node, 5, \"Item\");\r\n    }\r\n\r\n    public spawn(position: Vec3): void {\r\n        const item: Item = this.itemPool.borrow();\r\n        item.setup(position);\r\n        item.PickupEvent.on(this.return, this);\r\n    }\r\n\r\n    private return(item: Item): void {\r\n        item.PickupEvent.off(this.return);\r\n        this.itemPool.return(item);\r\n    }\r\n}\r\n"]}