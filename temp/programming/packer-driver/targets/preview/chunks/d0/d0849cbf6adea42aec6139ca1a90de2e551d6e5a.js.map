{"version":3,"sources":["file:///C:/project/work/cocos/clashmonsters/assets/Scripts/Game/Unit/Enemy/AnimatedEnemy.ts"],"names":["Animation","_decorator","Enemy","ccclass","property","AnimatedEnemy","isAnimatingIdle","gameTick","move","deltaTime","console","log","x","y","animateIdle","animateRun","animation","play"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,U,OAAAA,U;;AACjBC,MAAAA,K,iBAAAA,K;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;+BAGjBI,a,WADZF,OAAO,CAAC,eAAD,C,UAEHC,QAAQ,CAACJ,SAAD,C,2BAFb,MACaK,aADb;AAAA;AAAA,0BACyC;AAAA;AAAA;;AAAA;;AAAA,eAG7BC,eAH6B,GAGX,KAHW;AAAA;;AAK9BC,QAAAA,QAAQ,CAACC,IAAD,EAAaC,SAAb,EAAsC;AACjD,gBAAMF,QAAN,CAAeC,IAAf,EAAqBC,SAArB;AAEAC,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAcH,IAAI,CAACI,CAAnB,GAAuB,YAAvB,GAAsCJ,IAAI,CAACK,CAAvD;;AAEA,cAAIL,IAAI,CAACI,CAAL,KAAW,CAAX,IAAgBJ,IAAI,CAACK,CAAL,KAAW,CAA/B,EAAkC;AAC9B,iBAAKC,WAAL;AACH,WAFD,MAEO;AACH,iBAAKC,UAAL;AACH;AACJ;;AAEOD,QAAAA,WAAW,GAAS;AACxB,cAAI,KAAKR,eAAT,EAA0B;AAC1B,eAAKA,eAAL,GAAuB,IAAvB;AAEA,eAAKU,SAAL,CAAeC,IAAf,CAAoB,MAApB;AACH;;AAEOF,QAAAA,UAAU,GAAS;AACvB,cAAI,CAAC,KAAKT,eAAV,EAA2B;AAC3B,eAAKA,eAAL,GAAuB,KAAvB;AAEA,eAAKU,SAAL,CAAeC,IAAf,CAAoB,KAApB;AACH;;AA7BoC,O","sourcesContent":["import { Animation, Vec3, _decorator } from \"cc\";\r\nimport { Enemy } from \"./Enemy\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"AnimatedEnemy\")\r\nexport class AnimatedEnemy extends Enemy {\r\n    @property(Animation) private animation: Animation;\r\n\r\n    private isAnimatingIdle = false;\r\n\r\n    public gameTick(move: Vec3, deltaTime: number): void {\r\n        super.gameTick(move, deltaTime);\r\n\r\n        console.log(\"Move x:  \" + move.x + \" Move y:  \" + move.y);\r\n\r\n        if (move.x === 0 && move.y === 0) {\r\n            this.animateIdle();\r\n        } else {\r\n            this.animateRun();\r\n        }\r\n    }\r\n\r\n    private animateIdle(): void {\r\n        if (this.isAnimatingIdle) return;\r\n        this.isAnimatingIdle = true;\r\n\r\n        this.animation.play(\"Idle\");\r\n    }\r\n\r\n    private animateRun(): void {\r\n        if (!this.isAnimatingIdle) return;\r\n        this.isAnimatingIdle = false;\r\n\r\n        this.animation.play(\"Run\");\r\n    }\r\n}\r\n"]}